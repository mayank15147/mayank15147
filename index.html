<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Shagun !</title>
    <link rel="icon" type="image/x-icon" href="images/happy-birthday.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/balloons.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    
    <!-- Crypto Js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <!-- Moment Js -->
    <script src="js/moment.min.js"></script>

    <script>

        var imgIndex = 1;
        const maxImages = 19;

        function loadImage() {
            console.log("loading image");
            imgIndex += 1;
            if (imgIndex > maxImages) {
                imgIndex = 1;
            }
        
            var imgPath = "images/" + imgIndex + ".jpeg";
            const element = document.getElementById("photoMessage");
            element.src = imgPath;

        }

        function authClick() {
            
            const authInput = document.getElementById("authKeyInput").value;
            const encryptedAESText = "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";
            //const authInputHash = CryptoJS.AES.encrypt(encryptedAESText, key).toString();
            const element = document.getElementById("authOutput");
            const message = document.getElementById("message");
            
            try {
                const authInputHash = CryptoJS.AES.decrypt(encryptedAESText, authInput).toString(CryptoJS.enc.Utf8);
                element.innerHTML = "Decrypted message &#x1F4E9 !!!"
                message.style.textAlign = "center";
                message.style.border = "dotted";
                message.style.marginLeft = '50px';
                message.style.marginRight = '50px';
                message.style.marginTop = '10px';
                
                message.innerHTML = authInputHash

            }catch(err) {
                element.innerHTML = "Invalid Auth Key &#x1F511 !!!"
                message.style.textAlign = "";
                message.style.border = "";
                message.style.marginLeft = '';
                message.style.marginRight = '';
                message.style.marginTop = '';
                message.innerHTML = "";
            }
            

            
                
            
        }
    </script>

    <!-- Time Calculation script -->
    <script>

        function refreshTimeElapsed() {
                const element = document.getElementById("dataCalculation");
                var starts = moment('1999-09-24 00:00:00');
                var ends   = moment();

                var duration = moment.duration(ends.diff(starts));
                var msg = "You have turned " + duration._data.years + " years, " + duration._data.months + " months, " + duration._data.days + " days old on &#x1F30F."

                element.innerHTML = msg;
                //console.log(duration);
        }
        
        $(document).ready(function()
        {
            setInterval(function()
            {
                refreshTimeElapsed();
            }, 2000); // every 2 seconds
        }
    );
    </script>

</head>

<style>
    body, input {
        font-family: 'Exo 2', sans-serif;
        font-weight: 400;
    }

    .mainHeading {
        font-size: xx-large;
    }

    .authInputBox {
        text-align: center;
        padding-top: 20px;
        font-family: 'Exo 2', sans-serif;
        font-size: x-large;
    }

    .authKeyInput {
    }

    .message {
        height: 500px;
    }

    .authOutput {
        height: 100px;
    }
    .container {
        padding-top: 30px;
    }


    .message1 {
        float: left;
        width: 45%;
    }
    .message2 {
        float: left;
        width: 45%;
    }

    /* Clear floats after the columns */
    .row:after {
        content: "";
        display: table;
        clear: both;
    }

    .row {
        padding: 2%;
    }

</style>


<body onload="refreshTimeElapsed()">


    <div class="mainHeading">
        <h1 align="center"> &#x1f382 ðŸŽ‰ &#x1F37A Happy Birthday Shagun ! &#x1f382 ðŸŽ‰ &#x1F37A </h1>
        <h4 id="dataCalculation" align="center">
            You have turned 25 years old !
        </h4>
    </div>
    
    <hr>
 
    
    <div class="row">
        <div class="message1">
            <center>
                <h3 align="center">Please enter the Auth Key &#x1F511 to decrypt your message.</h3>
                <input align="center" type="text" id="authKeyInput">
                <input align="center" type="button" value="Submit" onclick="authClick()">
                <br>
                <h4 id="authOutput" align="center"></h4>
                <br>
                <div id="message"></div>
            </center>
        </div>

        <center>
            <h3 align="center">Click on the below button to witness craziness !</h3>
            <input align="center" type="button" value="Next" onclick="loadImage()">
            <br>
            <h4 id="authOutput" align="left"></h4>
            <br>
            <img src="images/1.jpeg" id="photoMessage" alt="Paris" width="400" height="500" loading="lazy">
        </center>
    </div>
        
</body>

<footer align="center">
    <h3>Built with &#x2764 by Mayank</h3>
</footer>

</html>